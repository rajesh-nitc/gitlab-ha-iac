{
  "version": 4,
  "terraform_version": "0.12.23",
  "serial": 57,
  "lineage": "a42a66f0-95b4-1e07-74f7-80027aadb9d3",
  "outputs": {},
  "resources": [
    {
      "module": "module.glb",
      "mode": "managed",
      "type": "google_compute_backend_service",
      "name": "default",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "affinity_cookie_ttl_sec": 0,
            "backend": [
              {
                "balancing_mode": "UTILIZATION",
                "capacity_scaler": 0,
                "description": null,
                "group": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-southeast1/instanceGroups/mig2-dr",
                "max_connections": null,
                "max_connections_per_endpoint": null,
                "max_connections_per_instance": null,
                "max_rate": null,
                "max_rate_per_endpoint": null,
                "max_rate_per_instance": null,
                "max_utilization": 0.8
              },
              {
                "balancing_mode": "UTILIZATION",
                "capacity_scaler": 1,
                "description": "",
                "group": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-south1/instanceGroups/mig3-primary",
                "max_connections": null,
                "max_connections_per_endpoint": null,
                "max_connections_per_instance": null,
                "max_rate": null,
                "max_rate_per_endpoint": null,
                "max_rate_per_instance": null,
                "max_utilization": 0.8
              }
            ],
            "cdn_policy": [],
            "connection_draining_timeout_sec": 300,
            "creation_timestamp": "2020-03-14T06:50:49.635-07:00",
            "description": "",
            "enable_cdn": false,
            "fingerprint": "_QSniW6oxQc=",
            "health_checks": [
              "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/healthChecks/autohealing-health-check"
            ],
            "iap": [],
            "id": "gitlab-server-backend-service",
            "load_balancing_scheme": "EXTERNAL",
            "name": "gitlab-server-backend-service",
            "port_name": "http",
            "project": "tf-first-project",
            "protocol": "HTTP",
            "security_policy": "",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/backendServices/gitlab-server-backend-service",
            "session_affinity": "NONE",
            "timeout_sec": 30,
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.health_check.google_compute_health_check.autohealing",
            "module.instance_template_primary.google_compute_instance_template.appserver-template",
            "module.mig_dr.google_compute_region_instance_group_manager.mig",
            "module.mig_primary.google_compute_region_instance_group_manager.mig"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "google_compute_firewall",
      "name": "default",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "allow": [
              {
                "ports": [
                  "80",
                  "443",
                  "22"
                ],
                "protocol": "tcp"
              }
            ],
            "creation_timestamp": "2020-03-14T06:27:04.452-07:00",
            "deny": [],
            "description": "",
            "destination_ranges": [],
            "direction": "INGRESS",
            "disabled": false,
            "id": "gitlab-firewall",
            "name": "gitlab-firewall",
            "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "priority": 1000,
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/firewalls/gitlab-firewall",
            "source_ranges": [
              "0.0.0.0/0"
            ],
            "source_service_accounts": [],
            "source_tags": [],
            "target_service_accounts": [],
            "target_tags": [],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "google_compute_global_address",
      "name": "private-ip-alloc",
      "provider": "provider.google-beta",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": "10.73.0.0",
            "address_type": "INTERNAL",
            "creation_timestamp": "2020-03-14T06:27:04.956-07:00",
            "description": "",
            "id": "private-ip-alloc",
            "ip_version": "",
            "label_fingerprint": "42WmSpB8rSM=",
            "labels": {},
            "name": "private-ip-alloc",
            "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "prefix_length": 16,
            "project": "tf-first-project",
            "purpose": "VPC_PEERING",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/addresses/private-ip-alloc",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.glb",
      "mode": "managed",
      "type": "google_compute_global_forwarding_rule",
      "name": "default",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "id": "global-rule",
            "ip_address": "34.107.142.27",
            "ip_protocol": "TCP",
            "ip_version": "",
            "load_balancing_scheme": "EXTERNAL",
            "metadata_filters": [],
            "name": "global-rule",
            "port_range": "443-443",
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/forwardingRules/global-rule",
            "target": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/targetHttpsProxies/gitlab-server-https-proxy",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.google_sql_database_instance.dr",
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.db-primary-n-dr.random_id.db_name_suffix_dr",
            "module.glb.google_compute_backend_service.default",
            "module.glb.google_compute_ssl_certificate.default",
            "module.glb.google_compute_target_https_proxy.default",
            "module.glb.google_compute_url_map.default",
            "module.health_check.google_compute_health_check.autohealing",
            "module.instance_template_dr.google_compute_instance_template.appserver-template",
            "module.instance_template_primary.google_compute_instance_template.appserver-template",
            "module.mig_dr.google_compute_region_instance_group_manager.mig",
            "module.mig_primary.google_compute_region_instance_group_manager.mig",
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.health_check",
      "mode": "managed",
      "type": "google_compute_health_check",
      "name": "autohealing",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "check_interval_sec": 5,
            "creation_timestamp": "2020-03-14T06:26:47.125-07:00",
            "description": "",
            "healthy_threshold": 2,
            "http2_health_check": [],
            "http_health_check": [],
            "https_health_check": [],
            "id": "autohealing-health-check",
            "name": "autohealing-health-check",
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/healthChecks/autohealing-health-check",
            "ssl_health_check": [],
            "tcp_health_check": [
              {
                "port": 80,
                "port_name": "",
                "port_specification": "",
                "proxy_header": "NONE",
                "request": "",
                "response": ""
              }
            ],
            "timeout_sec": 5,
            "timeouts": null,
            "type": "TCP",
            "unhealthy_threshold": 2
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.instance_template_dr",
      "mode": "managed",
      "type": "google_compute_instance_template",
      "name": "appserver-template",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "automatic_restart": null,
            "can_ip_forward": true,
            "description": "",
            "disk": [
              {
                "auto_delete": true,
                "boot": true,
                "device_name": "persistent-disk-0",
                "disk_encryption_key": [],
                "disk_name": "",
                "disk_size_gb": 0,
                "disk_type": "pd-standard",
                "interface": "SCSI",
                "labels": {},
                "mode": "READ_WRITE",
                "source": "",
                "source_image": "projects/debian-cloud/global/images/family/debian-9",
                "type": "PERSISTENT"
              }
            ],
            "enable_display": null,
            "guest_accelerator": [],
            "id": "gitlab-server-dr-20200314163405329400000001",
            "instance_description": "",
            "labels": null,
            "machine_type": "n1-standard-1",
            "metadata": {},
            "metadata_fingerprint": "amJ7q0efSZc=",
            "metadata_startup_script": "#!/bin/bash\n\n# set -xe\n\n# sudo apt-get update\n# sudo apt-get install -y curl openssh-server ca-certificates\n# curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n# apt-get install gitlab-ee -y\n# sed -i 's/^external_url.*/external_url \"http:\\/\\/34.107.133.237\"/' /etc/gitlab/gitlab.rb\n# echo \"nginx['listen_port'] = 80\" \u003e\u003e /etc/gitlab/gitlab.rb\n# echo \"nginx['listen_https'] = false\" \u003e\u003e /etc/gitlab/gitlab.rb\n# gitlab-ctl reconfigure\n\n# mkdir -p /opt/app\n# gsutil -m cp -R gs://tf-first-project-bucket /opt/app\n\n# apt-get update\n# apt-get install -y curl openssh-server ca-certificates\n# curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | bash\n# apt-get install gitlab-ce -y\n# sudo mkdir -p /opt/app\n# gsutil -m cp -R gs://tf-first-project-bucket /opt/app\n# sudo mkdir -p /etc/gitlab/ssl\n# sudo chmod 755 /etc/gitlab/ssl\n# sudo cp /opt/app/tf-first-project-bucket/live/budita.dev/cert.pem /etc/gitlab/ssl/budita.dev.crt\n# sudo cp /opt/app/tf-first-project-bucket/live/budita.dev/privkey.pem /etc/gitlab/ssl/budita.dev.key\n# sudo cp /opt/app/tf-first-project-bucket/gitlab.rb /etc/gitlab/gitlab.rb\n# gitlab-ctl reconfigure\n###############################################\nmkdir -p /opt/app\ngsutil -m cp -R gs://tf-first-project-bucket /opt/app\ncp /opt/app/tf-first-project-bucket/gitlab.rb /etc/gitlab/gitlab.rb\napt-get update\napt-get install -y curl openssh-server ca-certificates postgresql-client\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | bash\napt-get install gitlab-ee -y\nwget https://dl.google.com/cloudsql/cloud_sql_proxy.linux.amd64 -O cloud_sql_proxy\nchmod +x cloud_sql_proxy\n# ./cloud_sql_proxy -instances=tf-first-project:asia-southeast1:db-dr-062c6226=tcp:5432 \u0026\n\n# gitlab-ctl reconfigure",
            "min_cpu_platform": "",
            "name": "gitlab-server-dr-20200314163405329400000001",
            "name_prefix": "gitlab-server-dr-",
            "network_interface": [
              {
                "access_config": [
                  {
                    "assigned_nat_ip": "",
                    "nat_ip": "",
                    "network_tier": "PREMIUM"
                  }
                ],
                "address": "",
                "alias_ip_range": [],
                "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
                "network_ip": "",
                "subnetwork": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-southeast1/subnetworks/subnet-dr",
                "subnetwork_project": "tf-first-project"
              }
            ],
            "on_host_maintenance": null,
            "project": "tf-first-project",
            "region": "asia-southeast1",
            "scheduling": [
              {
                "automatic_restart": true,
                "node_affinities": [],
                "on_host_maintenance": "MIGRATE",
                "preemptible": false
              }
            ],
            "self_link": "https://www.googleapis.com/compute/beta/projects/tf-first-project/global/instanceTemplates/gitlab-server-dr-20200314163405329400000001",
            "service_account": [
              {
                "email": "default",
                "scopes": [
                  "https://www.googleapis.com/auth/cloud-platform"
                ]
              }
            ],
            "shielded_instance_config": [],
            "tags": [
              "dr"
            ],
            "tags_fingerprint": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.db-primary-n-dr.google_sql_database_instance.dr",
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork"
          ]
        }
      ]
    },
    {
      "module": "module.instance_template_primary",
      "mode": "managed",
      "type": "google_compute_instance_template",
      "name": "appserver-template",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "automatic_restart": null,
            "can_ip_forward": true,
            "description": "",
            "disk": [
              {
                "auto_delete": true,
                "boot": true,
                "device_name": "persistent-disk-0",
                "disk_encryption_key": [],
                "disk_name": "",
                "disk_size_gb": 0,
                "disk_type": "pd-standard",
                "interface": "SCSI",
                "labels": {},
                "mode": "READ_WRITE",
                "source": "",
                "source_image": "projects/debian-cloud/global/images/family/debian-9",
                "type": "PERSISTENT"
              }
            ],
            "enable_display": null,
            "guest_accelerator": [],
            "id": "gitlab-server-primary-20200314163405361700000002",
            "instance_description": "",
            "labels": null,
            "machine_type": "n1-standard-1",
            "metadata": {},
            "metadata_fingerprint": "nfc9Wl09vwM=",
            "metadata_startup_script": "#!/bin/bash\n\n# set -xe\n\n# sudo apt-get update\n# sudo apt-get install -y curl openssh-server ca-certificates\n# curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n# apt-get install gitlab-ee -y\n# sed -i 's/^external_url.*/external_url \"http:\\/\\/34.107.133.237\"/' /etc/gitlab/gitlab.rb\n# echo \"nginx['listen_port'] = 80\" \u003e\u003e /etc/gitlab/gitlab.rb\n# echo \"nginx['listen_https'] = false\" \u003e\u003e /etc/gitlab/gitlab.rb\n# gitlab-ctl reconfigure\n\n# mkdir -p /opt/app\n# gsutil -m cp -R gs://tf-first-project-bucket /opt/app\n\n# apt-get update\n# apt-get install -y curl openssh-server ca-certificates\n# curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | bash\n# apt-get install gitlab-ce -y\n# sudo mkdir -p /opt/app\n# gsutil -m cp -R gs://tf-first-project-bucket /opt/app\n# sudo mkdir -p /etc/gitlab/ssl\n# sudo chmod 755 /etc/gitlab/ssl\n# sudo cp /opt/app/tf-first-project-bucket/live/budita.dev/cert.pem /etc/gitlab/ssl/budita.dev.crt\n# sudo cp /opt/app/tf-first-project-bucket/live/budita.dev/privkey.pem /etc/gitlab/ssl/budita.dev.key\n# sudo cp /opt/app/tf-first-project-bucket/gitlab.rb /etc/gitlab/gitlab.rb\n# gitlab-ctl reconfigure\n###############################################\nmkdir -p /opt/app\ngsutil -m cp -R gs://tf-first-project-bucket /opt/app\ncp /opt/app/tf-first-project-bucket/gitlab.rb /etc/gitlab/gitlab.rb\napt-get update\napt-get install -y curl openssh-server ca-certificates postgresql-client\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | bash\napt-get install gitlab-ee -y\nwget https://dl.google.com/cloudsql/cloud_sql_proxy.linux.amd64 -O cloud_sql_proxy\nchmod +x cloud_sql_proxy\n# ./cloud_sql_proxy -instances=tf-first-project:asia-south1:db-primary-7d693722=tcp:5432 \u0026\n\n# gitlab-ctl reconfigure",
            "min_cpu_platform": "",
            "name": "gitlab-server-primary-20200314163405361700000002",
            "name_prefix": "gitlab-server-primary-",
            "network_interface": [
              {
                "access_config": [
                  {
                    "assigned_nat_ip": "",
                    "nat_ip": "",
                    "network_tier": "PREMIUM"
                  }
                ],
                "address": "",
                "alias_ip_range": [],
                "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
                "network_ip": "",
                "subnetwork": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-south1/subnetworks/subnet-primary",
                "subnetwork_project": "tf-first-project"
              }
            ],
            "on_host_maintenance": null,
            "project": "tf-first-project",
            "region": "asia-south1",
            "scheduling": [
              {
                "automatic_restart": true,
                "node_affinities": [],
                "on_host_maintenance": "MIGRATE",
                "preemptible": false
              }
            ],
            "self_link": "https://www.googleapis.com/compute/beta/projects/tf-first-project/global/instanceTemplates/gitlab-server-primary-20200314163405361700000002",
            "service_account": [
              {
                "email": "default",
                "scopes": [
                  "https://www.googleapis.com/auth/cloud-platform"
                ]
              }
            ],
            "shielded_instance_config": [],
            "tags": [
              "primary"
            ],
            "tags_fingerprint": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork"
          ]
        }
      ]
    },
    {
      "module": "module.vpc.module.vpc.module.vpc",
      "mode": "managed",
      "type": "google_compute_network",
      "name": "network",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_subnetworks": false,
            "delete_default_routes_on_create": false,
            "description": "",
            "gateway_ipv4": "",
            "id": "gitlab-vpc1",
            "ipv4_range": "",
            "name": "gitlab-vpc1",
            "project": "tf-first-project",
            "routing_mode": "GLOBAL",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.mig_primary",
      "mode": "managed",
      "type": "google_compute_region_instance_group_manager",
      "name": "mig",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_healing_policies": [
              {
                "health_check": "https://www.googleapis.com/compute/beta/projects/tf-first-project/global/healthChecks/autohealing-health-check",
                "initial_delay_sec": 3600
              }
            ],
            "base_instance_name": "app3-primary",
            "description": "",
            "distribution_policy_zones": [
              "asia-south1-a",
              "asia-south1-b",
              "asia-south1-c"
            ],
            "fingerprint": "U3f0xZGUCjo=",
            "id": "tf-first-project/asia-south1/mig3-primary",
            "instance_group": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-south1/instanceGroups/mig3-primary",
            "instance_template": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/instanceTemplates/gitlab-server-primary-20200314163405361700000002",
            "name": "mig3-primary",
            "named_port": [
              {
                "name": "http",
                "port": 80
              }
            ],
            "project": "tf-first-project",
            "region": "asia-south1",
            "rolling_update_policy": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-south1/instanceGroupManagers/mig3-primary",
            "target_pools": null,
            "target_size": 2,
            "timeouts": null,
            "update_policy": [
              {
                "instance_redistribution_type": "PROACTIVE",
                "max_surge_fixed": 3,
                "max_surge_percent": 0,
                "max_unavailable_fixed": 3,
                "max_unavailable_percent": 0,
                "min_ready_sec": 0,
                "minimal_action": "REPLACE",
                "type": "OPPORTUNISTIC"
              }
            ],
            "update_strategy": null,
            "version": [
              {
                "instance_template": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/instanceTemplates/gitlab-server-primary-20200314163405361700000002",
                "name": "",
                "target_size": []
              }
            ],
            "wait_for_instances": false
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.health_check.google_compute_health_check.autohealing",
            "module.instance_template_primary.google_compute_instance_template.appserver-template"
          ]
        }
      ]
    },
    {
      "module": "module.mig_dr",
      "mode": "managed",
      "type": "google_compute_region_instance_group_manager",
      "name": "mig",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_healing_policies": [
              {
                "health_check": "https://www.googleapis.com/compute/beta/projects/tf-first-project/global/healthChecks/autohealing-health-check",
                "initial_delay_sec": 3600
              }
            ],
            "base_instance_name": "app2-dr",
            "description": "",
            "distribution_policy_zones": [
              "asia-southeast1-a"
            ],
            "fingerprint": "8MBecLcSwUg=",
            "id": "tf-first-project/asia-southeast1/mig2-dr",
            "instance_group": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-southeast1/instanceGroups/mig2-dr",
            "instance_template": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/instanceTemplates/gitlab-server-dr-20200314163405329400000001",
            "name": "mig2-dr",
            "named_port": [
              {
                "name": "http",
                "port": 80
              }
            ],
            "project": "tf-first-project",
            "region": "asia-southeast1",
            "rolling_update_policy": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-southeast1/instanceGroupManagers/mig2-dr",
            "target_pools": [],
            "target_size": 1,
            "timeouts": null,
            "update_policy": [
              {
                "instance_redistribution_type": "PROACTIVE",
                "max_surge_fixed": 1,
                "max_surge_percent": 0,
                "max_unavailable_fixed": 1,
                "max_unavailable_percent": 0,
                "min_ready_sec": 0,
                "minimal_action": "REPLACE",
                "type": "OPPORTUNISTIC"
              }
            ],
            "update_strategy": null,
            "version": [
              {
                "instance_template": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/instanceTemplates/gitlab-server-dr-20200314163405329400000001",
                "name": "",
                "target_size": []
              }
            ],
            "wait_for_instances": false
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_sql_database_instance.dr",
            "module.health_check.google_compute_health_check.autohealing",
            "module.instance_template_dr.google_compute_instance_template.appserver-template",
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork"
          ]
        }
      ]
    },
    {
      "module": "module.vpc.module.vpc.module.routes",
      "mode": "managed",
      "type": "google_compute_route",
      "name": "route",
      "each": "map",
      "provider": "provider.google",
      "instances": [
        {
          "index_key": "egress-internet",
          "schema_version": 0,
          "attributes": {
            "description": "route through IGW to access internet",
            "dest_range": "0.0.0.0/0",
            "id": "egress-internet",
            "name": "egress-internet",
            "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "next_hop_gateway": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/gateways/default-internet-gateway",
            "next_hop_instance": "",
            "next_hop_instance_zone": null,
            "next_hop_ip": "",
            "next_hop_network": "",
            "next_hop_vpn_tunnel": "",
            "priority": 1000,
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/routes/egress-internet",
            "tags": [
              "egress-inet"
            ],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.vpc.module.vpc.module.vpc",
      "mode": "managed",
      "type": "google_compute_shared_vpc_host_project",
      "name": "shared_vpc_host",
      "each": "list",
      "provider": "provider.google",
      "instances": []
    },
    {
      "module": "module.glb",
      "mode": "managed",
      "type": "google_compute_ssl_certificate",
      "name": "default",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate": "-----BEGIN CERTIFICATE-----\nMIIFSzCCBDOgAwIBAgISA2f0IzfvtDshVPtOHlU3ir0qMA0GCSqGSIb3DQEBCwUA\nMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD\nExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0yMDAzMDYxMzEyNDlaFw0y\nMDA2MDQxMzEyNDlaMBUxEzARBgNVBAMTCmJ1ZGl0YS5kZXYwggEiMA0GCSqGSIb3\nDQEBAQUAA4IBDwAwggEKAoIBAQC3Y/q27MNsZBgmgCBgBzr/FQ4r8TJOGAMpfePV\nG8ehzzLmVGiQj7wvb5XiUMzs4d9W/IemZoK/EaFxa0fIPdw/WuX71c8dAZCFWiIi\nUXbueSI+AqpKy1sgUawhF1bKBUqdRUpi+o8IdG3MAVzoNHMTMUeUzQzVEwF6qEIC\nvBkqh6AnO0z+yzQ37g8cZzySLqxT5wJBjfESpfyg5MMnct5He1C1E9yyVI5Vao8j\nmfuvsaiiKTKvJFCYN9iFbtN7iaJwO/qfT4+GASuUMExO8EZ+ZVUiN5TqUWEsNk0O\nhwQT3sZQToulqYUNxkFl/I48PCY2KTU0icTzLj1RUmWRzJrBAgMBAAGjggJeMIIC\nWjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMC\nMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFHaqgAmAChIoUP1Gb1aFtTjnOKvvMB8G\nA1UdIwQYMBaAFKhKamMEfd265tE5t6ZFZe/zqOyhMG8GCCsGAQUFBwEBBGMwYTAu\nBggrBgEFBQcwAYYiaHR0cDovL29jc3AuaW50LXgzLmxldHNlbmNyeXB0Lm9yZzAv\nBggrBgEFBQcwAoYjaHR0cDovL2NlcnQuaW50LXgzLmxldHNlbmNyeXB0Lm9yZy8w\nFQYDVR0RBA4wDIIKYnVkaXRhLmRldjBMBgNVHSAERTBDMAgGBmeBDAECATA3Bgsr\nBgEEAYLfEwEBATAoMCYGCCsGAQUFBwIBFhpodHRwOi8vY3BzLmxldHNlbmNyeXB0\nLm9yZzCCAQMGCisGAQQB1nkCBAIEgfQEgfEA7wB2AOcS8rA3fhpi+47JDGGE8ep7\nN8tWHREmW/Pg80vyQVRuAAABcLAxDuAAAAQDAEcwRQIhALLeueVOhJ8eoii1P1WZ\nXE91uHX/Osf6B+QfdCW7ciiiAiBLlSERuoOAzllNelUjt+TAG2fcbLFWSg8fqg+n\nPwBTOQB1ALIeBcyLos2KIE6HZvkruYolIGdr2vpw57JJUy3vi5BeAAABcLAxDv4A\nAAQDAEYwRAIgDuEUyRCFZ6Y+ZZbtcW08Fi8xN8U6a4RZ8b3uOGsHyT0CIHEpQUQN\n5va/f6mwoyu3z8lMhnMfOEyq6P8hacELnRlbMA0GCSqGSIb3DQEBCwUAA4IBAQAu\nHnJQ34lMUvetO7pg3ax91chVzVmrNl6cm1FNiDdOaje03mgyDJq+YMPltePgSFgG\nXRCRzAP4UHBQA4To+3SOzH/+yRBtKs2abPbhcWziaWVGvhc9ltQQLIDbKR7i8qq5\nD+rsRuZV41WQz8AsxNzTJEOvI9YNYhIc1LAEDusdp0AO2YXQy9yd5Ku8McTxg8oW\noQcBV1POrI0FP2wV3Fh3rqg6UnX3umOWM1gLulSPQHAIS7vlhI49/f0+HamoAGKP\nAYXcRTb4x1f0ITVg155G9S4DChmtBzppCzcPv8hQv2CDNiu9TPDhOYVtquPl3/mJ\nqqnLb+MTlmvUGWWsJtB1\n-----END CERTIFICATE-----\n",
            "certificate_id": 2791150654847018359,
            "creation_timestamp": "2020-03-14T06:26:48.124-07:00",
            "description": "",
            "id": "my-certificate",
            "name": "my-certificate",
            "name_prefix": null,
            "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC3Y/q27MNsZBgm\ngCBgBzr/FQ4r8TJOGAMpfePVG8ehzzLmVGiQj7wvb5XiUMzs4d9W/IemZoK/EaFx\na0fIPdw/WuX71c8dAZCFWiIiUXbueSI+AqpKy1sgUawhF1bKBUqdRUpi+o8IdG3M\nAVzoNHMTMUeUzQzVEwF6qEICvBkqh6AnO0z+yzQ37g8cZzySLqxT5wJBjfESpfyg\n5MMnct5He1C1E9yyVI5Vao8jmfuvsaiiKTKvJFCYN9iFbtN7iaJwO/qfT4+GASuU\nMExO8EZ+ZVUiN5TqUWEsNk0OhwQT3sZQToulqYUNxkFl/I48PCY2KTU0icTzLj1R\nUmWRzJrBAgMBAAECggEBALGeIctdkQDACSvw2GppVliMGgexOdmtJBLhnPJgT3+G\nYHP4uLWaoNcIqhBh1bhwI5HqT694hZVtDAH/t6xXTaQG88xvjoM3arPdUkYOxLO/\nmsyYZDrArmek8qOyKRrM+TFNVPh8WGAF8/msMEGt2u5xwjR6TL1qBPq5UAW6DF3F\nDWX1gogw4d4CJxQdvqekIqt+WpHOHIrXA8KEHR1OxYER+ypIVXjEYNuBsHtfFSD/\nllc3IWum0LlFHeYORUlH99zfZF1ZlgLa0yjKWcgGjT3e3liKBRDn9TLXUh0a9QVG\nDq4aeJAys7ZtMiV5VJpuFDGW+lkcw4+yPSwxXTJRNgECgYEA5uXHl3XKVwNo39x+\nlPXz11if8fziQF3CNn9BN9l71wNg1fs/mNj8yQZrLjPrbsM5GVaD7e9nPJZ/zDOJ\n4x3xTT0yld8nQoze9Y6y1oXB7QkIU+kJXPw1hJgoQofSZ4L0k8WDqO/NEVz+SKDZ\nAW08rOGGJtwH+hZ++2K8FN4TNHECgYEAy1QCRVWPFKhHkeAJnlpGzySfDOl6fAWU\nJB0bKSXsoK31obFvJZ7CCaFswfYg6ZKmXOLPYU7+umwOu1yhPb1DqhPdDFMshZzo\nh2VR08PGeYMfu3n70mVbV8u8AMfHsiia8C4bLL+LLSFPc3CImrEPqRWcOWEJYlZP\nGpMlPo/us1ECgYBaVJSj/XH+Xpgd1B41Wo9dtQ9F1WASPFvphBlYpx3avTiaHiQA\nQQuL/ZXayncVqwxgjEcqw5kIy/wNQDB2iNVJGWL73QR39bKYMI5ofIWknP8EDMwb\n85NgX0KI3KgE1OeoFAJxCfeZDl9wvHSJKVoubEBWXYhFX52n7TWVmFe9EQJ/aaI7\ni8nni9PhWugKFzrPjs530z15ZPWBAUId2kLZrKCz/E0ycVkJdfdniV1VvAN0as1q\n8CMaM7/v52c4Xdr2TGYFcWHEv6XFKJJ68InFk1uMINo++g+uZO5zvfQMy4JM/Hr3\no0fgBpJHtLHCRpu2hyGzCBxhw7UTY7sOnnIokQKBgQDPC4Eq4oOw+mop/1SRsbWK\nnX70kZP1Va6KlUKVC8d5cAfzLzfBxzCJI7PfCGdZ+V6kUvQw5qFG4qYsr8vdp3A6\n7h/ciyUiu6s6BugezwnjRP4tMR2Tk/Ji2laOSFyTAIKOU5Q12wm58Zoqac0bMhwZ\nz0P0zDpkVIG5MRP1fxGghw==\n-----END PRIVATE KEY-----\n",
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/sslCertificates/my-certificate",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.vpc.module.vpc.module.subnets",
      "mode": "managed",
      "type": "google_compute_subnetwork",
      "name": "subnetwork",
      "each": "map",
      "provider": "provider.google",
      "instances": [
        {
          "index_key": "asia-south1/subnet-primary",
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2020-03-14T06:27:04.696-07:00",
            "description": "This subnet has a description",
            "enable_flow_logs": false,
            "fingerprint": "fTj6Nuf5oFg=",
            "gateway_address": "10.10.10.1",
            "id": "asia-south1/subnet-primary",
            "ip_cidr_range": "10.10.10.0/24",
            "log_config": [],
            "name": "subnet-primary",
            "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "private_ip_google_access": true,
            "project": "tf-first-project",
            "region": "asia-south1",
            "secondary_ip_range": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-south1/subnetworks/subnet-primary",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAsImRlbGV0ZSI6MzYwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        },
        {
          "index_key": "asia-southeast1/subnet-dr",
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2020-03-14T06:27:04.681-07:00",
            "description": "This subnet has a description",
            "enable_flow_logs": false,
            "fingerprint": "RiCNEoD5pg0=",
            "gateway_address": "10.10.20.1",
            "id": "asia-southeast1/subnet-dr",
            "ip_cidr_range": "10.10.20.0/24",
            "log_config": [],
            "name": "subnet-dr",
            "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "private_ip_google_access": true,
            "project": "tf-first-project",
            "region": "asia-southeast1",
            "secondary_ip_range": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/regions/asia-southeast1/subnetworks/subnet-dr",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAsImRlbGV0ZSI6MzYwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.glb",
      "mode": "managed",
      "type": "google_compute_target_https_proxy",
      "name": "default",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2020-03-14T06:51:03.550-07:00",
            "description": "",
            "id": "gitlab-server-https-proxy",
            "name": "gitlab-server-https-proxy",
            "project": "tf-first-project",
            "proxy_id": 4100334730518552488,
            "quic_override": "NONE",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/targetHttpsProxies/gitlab-server-https-proxy",
            "ssl_certificates": [
              "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/sslCertificates/my-certificate"
            ],
            "ssl_policy": "",
            "timeouts": null,
            "url_map": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/urlMaps/gitlab-server-url-map"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.google_sql_database_instance.dr",
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.db-primary-n-dr.random_id.db_name_suffix_dr",
            "module.glb.google_compute_backend_service.default",
            "module.glb.google_compute_ssl_certificate.default",
            "module.glb.google_compute_url_map.default",
            "module.health_check.google_compute_health_check.autohealing",
            "module.instance_template_dr.google_compute_instance_template.appserver-template",
            "module.instance_template_primary.google_compute_instance_template.appserver-template",
            "module.mig_dr.google_compute_region_instance_group_manager.mig",
            "module.mig_primary.google_compute_region_instance_group_manager.mig",
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.glb",
      "mode": "managed",
      "type": "google_compute_url_map",
      "name": "default",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2020-03-14T06:50:58.761-07:00",
            "default_service": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/backendServices/gitlab-server-backend-service",
            "description": "",
            "fingerprint": "Nmo2OAnwSbI=",
            "host_rule": [],
            "id": "gitlab-server-url-map",
            "map_id": 701966510670831533,
            "name": "gitlab-server-url-map",
            "path_matcher": [],
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/urlMaps/gitlab-server-url-map",
            "test": [],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.google_sql_database_instance.dr",
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.db-primary-n-dr.random_id.db_name_suffix_dr",
            "module.glb.google_compute_backend_service.default",
            "module.health_check.google_compute_health_check.autohealing",
            "module.instance_template_dr.google_compute_instance_template.appserver-template",
            "module.instance_template_primary.google_compute_instance_template.appserver-template",
            "module.mig_dr.google_compute_region_instance_group_manager.mig",
            "module.mig_primary.google_compute_region_instance_group_manager.mig",
            "module.vpc.module.vpc.module.subnets.google_compute_subnetwork.subnetwork",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "google_service_networking_connection",
      "name": "private_vpc_connection",
      "provider": "provider.google-beta",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "https%3A%2F%2Fwww.googleapis.com%2Fcompute%2Fv1%2Fprojects%2Ftf-first-project%2Fglobal%2Fnetworks%2Fgitlab-vpc1:servicenetworking.googleapis.com",
            "network": "https://www.googleapis.com/compute/v1/projects/tf-first-project/global/networks/gitlab-vpc1",
            "peering": "servicenetworking-googleapis-com",
            "reserved_peering_ranges": [
              "private-ip-alloc"
            ],
            "service": "servicenetworking.googleapis.com"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.db-primary-n-dr.google_compute_global_address.private-ip-alloc",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "google_sql_database",
      "name": "database",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "charset": "UTF8",
            "collation": "en_US.UTF8",
            "id": "db-primary-7d693722:gitlabhq_production",
            "instance": "db-primary-7d693722",
            "name": "gitlabhq_production",
            "project": "tf-first-project",
            "self_link": "https://www.googleapis.com/sql/v1beta4/projects/tf-first-project/instances/db-primary-7d693722/databases/gitlabhq_production",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo5MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_compute_global_address.private-ip-alloc",
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.db-primary-n-dr.random_id.db_name_suffix_primary",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "google_sql_database_instance",
      "name": "dr",
      "provider": "provider.google-beta",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "connection_name": "tf-first-project:asia-southeast1:db-dr-062c6226",
            "database_version": "POSTGRES_9_6",
            "first_ip_address": "10.73.1.3",
            "id": "db-dr-062c6226",
            "ip_address": [
              {
                "ip_address": "10.73.1.3",
                "time_to_retire": "",
                "type": "PRIVATE"
              }
            ],
            "master_instance_name": "db-primary-7d693722",
            "name": "db-dr-062c6226",
            "private_ip_address": "10.73.1.3",
            "project": "tf-first-project",
            "public_ip_address": "",
            "region": "asia-southeast1",
            "replica_configuration": [
              {
                "ca_certificate": "",
                "client_certificate": "",
                "client_key": "",
                "connect_retry_interval": 30,
                "dump_file_path": "",
                "failover_target": false,
                "master_heartbeat_period": 0,
                "password": "",
                "ssl_cipher": "",
                "username": "",
                "verify_server_certificate": false
              }
            ],
            "self_link": "https://www.googleapis.com/sql/v1beta4/projects/tf-first-project/instances/db-dr-062c6226",
            "server_ca_cert": [
              {
                "cert": "-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBADANBgkqhkiG9w0BAQsFADB3MS0wKwYDVQQuEyQxYjFk\nZDhmOC1lMjM5LTRhNmQtYTI3OS05YWRhYTNhOWViMjkxIzAhBgNVBAMTGkdvb2ds\nZSBDbG91ZCBTUUwgU2VydmVyIENBMRQwEgYDVQQKEwtHb29nbGUsIEluYzELMAkG\nA1UEBhMCVVMwHhcNMjAwMzE0MTM0NjE0WhcNMzAwMzEyMTM0NzE0WjB3MS0wKwYD\nVQQuEyQxYjFkZDhmOC1lMjM5LTRhNmQtYTI3OS05YWRhYTNhOWViMjkxIzAhBgNV\nBAMTGkdvb2dsZSBDbG91ZCBTUUwgU2VydmVyIENBMRQwEgYDVQQKEwtHb29nbGUs\nIEluYzELMAkGA1UEBhMCVVMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB\nAQCVV553cbJwtPXElaqxOSWF4eVAnEePbUP0VPLoj/2qFJW+LWgTtl11lFpxzhW1\nfmnaKFJn2ZSguh0Y5TNHLe5n9gbncPnceTkA66/QZn5Pbr7i4TKmaukBtZthplx0\n1WrqTlbeAcQoZqPbgN8grZvBOTs4Ks0RurekXSo7C0eJfwAjlgsbO7rU1xBccTcP\nVDC5BgQiKwTuoRoRSsP+Kkzb3/hP8p4/8b1QKX+IZkY+w8Yw2noEdCc/YTYUqjfK\n62eSOU4OrJCHvFDx/+JrIr4CBqXabrZdXWEy/qW+u0aU3CTjyPvFwcAV7xLtaQmt\n0XMbEw7qvjfFFSNHZ3FV5GjLAgMBAAGjFjAUMBIGA1UdEwEB/wQIMAYBAf8CAQAw\nDQYJKoZIhvcNAQELBQADggEBAD8jTW5tG3d7ltnDnZkuhzhKjZjutXgCFgSQu7JL\npv0egundqBcLCcG72kfKrQ90U4izjCBHPc1LIthMhMwX2OS02uBcnpf7OgdyXUGH\nMmXixGIQIqLyEblysHDHIGgRCX66NelISnGuCxzcAaCxIOeYWQ4ZDKFgaCeA7y58\nQt3MTP98UJYUpQcnR7MoceJPcr0mn5UdkVPTNOyJB0kU+i/lSGn60ctqPSkjIrFx\n31r+L/C9rm8apLjdWAz1z2xlrJ4EkYNwTWSCsNRExWWFg7oFWTsbvEEvFzBpCXoe\nUEkw1ADADex4tEWXLWmW6kTyFcpEKUzLfXDD1Npf+BeH6NE=\n-----END CERTIFICATE-----",
                "common_name": "C=US,O=Google\\, Inc,CN=Google Cloud SQL Server CA,dnQualifier=1b1dd8f8-e239-4a6d-a279-9adaa3a9eb29",
                "create_time": "2020-03-14T13:46:14.614Z",
                "expiration_time": "2030-03-12T13:47:14.614Z",
                "sha1_fingerprint": "ed3f9fca976335c047ccb2e2a398c7aa707ffd3c"
              }
            ],
            "service_account_email_address": "p48349115319-atmdo0@gcp-sa-cloud-sql.iam.gserviceaccount.com",
            "settings": [
              {
                "activation_policy": "ALWAYS",
                "authorized_gae_applications": [],
                "availability_type": "",
                "backup_configuration": [
                  {
                    "binary_log_enabled": false,
                    "enabled": false,
                    "location": "",
                    "start_time": "08:00"
                  }
                ],
                "crash_safe_replication": true,
                "database_flags": [],
                "disk_autoresize": true,
                "disk_size": 10,
                "disk_type": "PD_SSD",
                "ip_configuration": [
                  {
                    "authorized_networks": [],
                    "ipv4_enabled": false,
                    "private_network": "projects/tf-first-project/global/networks/gitlab-vpc1",
                    "require_ssl": false
                  }
                ],
                "location_preference": [
                  {
                    "follow_gae_application": "",
                    "zone": "asia-southeast1-a"
                  }
                ],
                "maintenance_window": [],
                "pricing_plan": "PER_USE",
                "replication_type": "SYNCHRONOUS",
                "tier": "db-f1-micro",
                "user_labels": {},
                "version": 1
              }
            ],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.db-primary-n-dr.random_id.db_name_suffix_dr",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "google_sql_database_instance",
      "name": "primary",
      "provider": "provider.google-beta",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "connection_name": "tf-first-project:asia-south1:db-primary-7d693722",
            "database_version": "POSTGRES_9_6",
            "first_ip_address": "10.73.0.2",
            "id": "db-primary-7d693722",
            "ip_address": [
              {
                "ip_address": "10.73.0.2",
                "time_to_retire": "",
                "type": "PRIVATE"
              }
            ],
            "master_instance_name": "",
            "name": "db-primary-7d693722",
            "private_ip_address": "10.73.0.2",
            "project": "tf-first-project",
            "public_ip_address": "",
            "region": "asia-south1",
            "replica_configuration": [],
            "self_link": "https://www.googleapis.com/sql/v1beta4/projects/tf-first-project/instances/db-primary-7d693722",
            "server_ca_cert": [
              {
                "cert": "-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBADANBgkqhkiG9w0BAQsFADB3MS0wKwYDVQQuEyQ3Y2Q0\nNWU0Zi03NDMzLTRiYWUtOTNiYS0wYzgwMjk0YzViNDgxIzAhBgNVBAMTGkdvb2ds\nZSBDbG91ZCBTUUwgU2VydmVyIENBMRQwEgYDVQQKEwtHb29nbGUsIEluYzELMAkG\nA1UEBhMCVVMwHhcNMjAwMzE0MTMyOTQzWhcNMzAwMzEyMTMzMDQzWjB3MS0wKwYD\nVQQuEyQ3Y2Q0NWU0Zi03NDMzLTRiYWUtOTNiYS0wYzgwMjk0YzViNDgxIzAhBgNV\nBAMTGkdvb2dsZSBDbG91ZCBTUUwgU2VydmVyIENBMRQwEgYDVQQKEwtHb29nbGUs\nIEluYzELMAkGA1UEBhMCVVMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB\nAQCraRv99uwqfQmn+vHQcz9lhespJ9Iblqw0DZkckIAdU89dVHFCSXTXQUf6dGHO\nfcvFRPqGCQAK+9mELA2uIWeC+N2vCEeHRxmuJPtCYEeStybC1MsnhScWi/RZvv4O\npXeJidNLNrE5rBxyEku5yxQoNH36UKSni6VBJtvQIXan57Ce5i3v1tlU/zfgtCzr\nNGUldivs+QQv05ErTrHYk7YGmav5VMEyTHigGCHVEhmquqqh8i+5P2ytXgX22vW6\nkrfzBx7TJ+MFh6eNmOZgB7BLEubifsVhGwAGiCpOWlp6YnGirfl21F/W11O8gwdo\n9m7GsjV9sLbxEcRM8XnImy7jAgMBAAGjFjAUMBIGA1UdEwEB/wQIMAYBAf8CAQAw\nDQYJKoZIhvcNAQELBQADggEBAFsQfdj681bOmmVCZHXLr/e8V+VNGKzsMCeWr+K0\nFHMP6yoYsxOKXnZwiGg+P7WYDPMx6OlWHkU1FIKjAL6AL0gXGdufDyS7pl0CfKzc\nIF2ZNppzgmUvLvX1mxJyRMUTRsq2kzDhFK21u2jLDkrK6jPqy1CKqeJUoqU6BSk9\nCe7/W3DoJ1vnu8Z28jPEO3OEA6eBf8/HejMxpp/bgFD+X7DFN3HfXrOHBxyQ1ewL\nmEejcvQoKJS+byaiB552HQRPNpQG4AMBx6sgCPq11MrWFkOL5VjXE/nQo4BaaM13\n6TEp9PnY3H3R9qpHRau/yLp4BcvlQU69Ei+dUw7fBOk+HbY=\n-----END CERTIFICATE-----",
                "common_name": "C=US,O=Google\\, Inc,CN=Google Cloud SQL Server CA,dnQualifier=7cd45e4f-7433-4bae-93ba-0c80294c5b48",
                "create_time": "2020-03-14T13:29:43.433Z",
                "expiration_time": "2030-03-12T13:30:43.433Z",
                "sha1_fingerprint": "21be2c42c765724130f047023c7e2ce615dc57f0"
              }
            ],
            "service_account_email_address": "p48349115319-vflrfe@gcp-sa-cloud-sql.iam.gserviceaccount.com",
            "settings": [
              {
                "activation_policy": "ALWAYS",
                "authorized_gae_applications": [],
                "availability_type": "REGIONAL",
                "backup_configuration": [
                  {
                    "binary_log_enabled": false,
                    "enabled": false,
                    "location": "",
                    "start_time": "09:00"
                  }
                ],
                "crash_safe_replication": false,
                "database_flags": [],
                "disk_autoresize": true,
                "disk_size": 10,
                "disk_type": "PD_SSD",
                "ip_configuration": [
                  {
                    "authorized_networks": [],
                    "ipv4_enabled": false,
                    "private_network": "projects/tf-first-project/global/networks/gitlab-vpc1",
                    "require_ssl": false
                  }
                ],
                "location_preference": [
                  {
                    "follow_gae_application": "",
                    "zone": "asia-south1-a"
                  }
                ],
                "maintenance_window": [],
                "pricing_plan": "PER_USE",
                "replication_type": "SYNCHRONOUS",
                "tier": "db-f1-micro",
                "user_labels": {},
                "version": 3
              }
            ],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.db-primary-n-dr.google_compute_global_address.private-ip-alloc",
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.random_id.db_name_suffix_primary",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "google_sql_user",
      "name": "users",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "host": "",
            "id": "gitlab//db-primary-7d693722",
            "instance": "db-primary-7d693722",
            "name": "gitlab",
            "password": "gitlab",
            "project": "tf-first-project"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.db-primary-n-dr.google_compute_global_address.private-ip-alloc",
            "module.db-primary-n-dr.google_service_networking_connection.private_vpc_connection",
            "module.db-primary-n-dr.google_sql_database_instance.primary",
            "module.db-primary-n-dr.random_id.db_name_suffix_primary",
            "module.vpc.module.vpc.module.vpc.google_compute_network.network"
          ]
        }
      ]
    },
    {
      "module": "module.vpc.module.vpc.module.routes",
      "mode": "managed",
      "type": "null_resource",
      "name": "delete_default_internet_gateway_routes",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "random_id",
      "name": "db_name_suffix_dr",
      "provider": "provider.random",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "b64": "BixiJg",
            "b64_std": "BixiJg==",
            "b64_url": "BixiJg",
            "byte_length": 4,
            "dec": "103572006",
            "hex": "062c6226",
            "id": "BixiJg",
            "keepers": null,
            "prefix": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.db-primary-n-dr",
      "mode": "managed",
      "type": "random_id",
      "name": "db_name_suffix_primary",
      "provider": "provider.random",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "b64": "fWk3Ig",
            "b64_std": "fWk3Ig==",
            "b64_url": "fWk3Ig",
            "byte_length": 4,
            "dec": "2104047394",
            "hex": "7d693722",
            "id": "fWk3Ig",
            "keepers": null,
            "prefix": null
          },
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
